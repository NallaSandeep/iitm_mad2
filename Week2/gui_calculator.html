<html>
	<head>
		<meta charset="utf-8">
		<meta name="viewport" content="width=device-width, initial-scale=1">
		<title>GUI Calculator</title>
		<link href="https://cdn.jsdelivr.net/npm/bootstrap@5.2.3/dist/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-rbsA2VBKQhggwzxH7pPCaAqO46MgnOM80zW1RWuH61DGLwZJEdK2Kadq2F9CUG65" crossorigin="anonymous">
	</head>
	<body onload="initialze()">
	<div class="container text-center">
	  <div class="row">
		<div class="col"></div>
		<div class="col">
		  <h1>GUI Calculator</h1>
		</div>
		<div class="col"></div>
	  </div>
	  <div class="row">
		<div class="col"></div>
		<div class="col">
		  <input type="text" id="expression" class="form-control form-control-lg"/>
		</div>
		<div class="col"></div>
	  </div>
	  <div class="row mt-3">
		<div class="col"></div>
		<div class="col">
		  <button class="btn btn-primary mb-3" onclick="input_val('7')">7</button>
		  <button class="btn btn-primary mb-3" onclick="input_val('8')">8</button>
		  <button class="btn btn-primary mb-3" onclick="input_val('9')">9</button>
		  <button class="btn btn-warning mb-3" onclick="input_val('+')">+</button>
		  <button class="btn btn-secondary mb-3" onclick="backspace_val()">B</button>
		</div>
		<div class="col"></div>
	  </div>
	  <div class="row">
		<div class="col"></div>
		<div class="col">
		  <button class="btn btn-primary mb-3" onclick="input_val('4')">4</button>
		  <button class="btn btn-primary mb-3" onclick="input_val('5')">5</button>
		  <button class="btn btn-primary mb-3" onclick="input_val('6')">6</button>
		  <button class="btn btn-warning mb-3" onclick="input_val('-')">-</button>
		  <button class="btn btn-warning mb-3" onclick="input_val('%')">%</button>
		</div>
		<div class="col"></div>
	  </div>
	  <div class="row">
		<div class="col"></div>
		<div class="col">
		  <button class="btn btn-primary mb-3" onclick="input_val('1')">1</button>
		  <button class="btn btn-primary mb-3" onclick="input_val('2')">2</button>
		  <button class="btn btn-primary mb-3" onclick="input_val('3')">3</button>
		  <button class="btn btn-warning mb-3" onclick="input_val('*')">*</button>
		  <button class="btn btn-warning mb-3" onclick="input_val('^')">^</button>
		</div>
		<div class="col"></div>
	  </div>
	  <div class="row">
		<div class="col"></div>
		<div class="col">
		  <button class="btn btn-primary mb-3" onclick="input_val('0')">0</button>
		  <button class="btn btn-primary mb-3" onclick="input_val('.')">.</button>
		  <button class="btn btn-success mb-3" onclick="calculate()">=</button>
		  <button class="btn btn-warning mb-3" onclick="input_val('/')">/</button>
		  <button class="btn btn-secondary mb-3" onclick="clear_val()">C</button>
		</div>
		<div class="col"></div>
	  </div>
	  <div class="row">
		<div class="col"></div>
		<div class="col">
		  <h3>Logs</h3>
		  <ul id="logs">
		  </ul>
		</div>
		<div class="col"></div>
	  </div>
	</div>
	<script type="text/javascript" src="https://cdn.jsdelivr.net/npm/mathjs@10.0.2/lib/browser/math.min.js"></script>
	<script>
		function addLogLine(msg) {
			logs = document.getElementById("logs");
			li = document.createElement("li");
			tn = document.createTextNode(msg);
			li.appendChild(tn);
			logs.prepend(li);
		}
		function calculate() {
			expression = document.getElementById('expression').value;
			if (expression) {
				try {
					result = eval(expression);
					document.getElementById('expression').value = result;
					addLogLine(expression + "=" + result);
				} catch(e) {
					document.getElementById('expression').value = "";
					addLogLine(expression + ": " + e);
				}
			} else {
				addLogLine("Enter an expression");
			}
		}
		function calculate_math() {
			expression = document.getElementById('expression').value;
			if (expression) {
				try {
					result = math.evaluate(expression);
					addLogLine(expression + "=" + result);
				} catch(e) {
					document.getElementById('expression').value = "";
					addLogLine(e);
				}
			} else {
				addLogLine("Enter an expression");
			}
		}
		function initialze() {
			// button = document.getElementById("calculate");
			// button.addEventListener("click", calculate_math);
		}
		function input_val(v) {
			value = document.getElementById('expression').value;
			document.getElementById('expression').value = value + v;
		}
		function clear_val() {
			document.getElementById('expression').value = "";
		}
		function backspace_val() {
			value = document.getElementById('expression').value;
			document.getElementById('expression').value = value.slice(0,-1);
		}
	</script>
	</body>
</html>